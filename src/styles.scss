@use '@angular/material' as mat;
// Byt alias från "gray" (krockar med CSS-färgnamn) till t.ex. "g"
@use './_gray-colors' as g;

@mixin colorful-overrides() {
	@include mat.toolbar-overrides(
		(
			container-background-color: var(--mat-sys-primary),
			container-text-color: var(--mat-sys-on-primary),
		)
	);

	.budget-table {
		.striped-row:nth-child(even) {
			background-color: var(--mat-sys-surface);
		}
		.striped-row:nth-child(odd) {
			background-color: white;
		}
	}

	.app-toolbar {
		--mat-icon-color: var(--mat-sys-on-primary);
	}

	.btn-primary {
		@include mat.button-overrides(
			(
				protected-container-color: color-mix(in srgb, var(--mat-sys-primary) 100%, white),
				protected-label-text-color: var(--mat-sys-on-secondary),
			)
		);
	}
}

/* ================== BAS: Ljus (grå) ================== */
html {
	color-scheme: light;
	@include mat.theme(
		(
			color: (
				primary: g.$primary-palette,
				tertiary: g.$tertiary-palette,
			),
			typography: Roboto,
			density: 0,
		)
	);
}

/* ================== MÖRK (grå) ================== */
html.theme-dark {
	color-scheme: dark;
	@include mat.theme(
		(
			color: (
				primary: g.$primary-palette,
				tertiary: g.$tertiary-palette,
			),
		)
	);

	@include mat.card-overrides(
		(
			elevated-container-color: rgb(51, 51, 51),
		)
	);

	@include mat.dialog-overrides(
		(
			container-elevation-shadow: 0px 20px 150px 150px rgba(0, 0, 0, 1),
		)
	);

	.btn-primary {
		border: 1px solid color-mix(in srgb, var(--mat-sys-on-primary) 75%, white);
	}
}

/* ================== ROSE ================== */
html.theme-rose {
	@include mat.theme(
		(
			color: (
				primary: mat.$rose-palette,
				tertiary: mat.$violet-palette,
				theme-type: light,
			),
		)
	);
	@include colorful-overrides();
}

/* ================== BLÅ ================== */
html.theme-blue {
	@include mat.theme(
		(
			color: (
				primary: mat.$azure-palette,
				tertiary: mat.$yellow-palette,
				theme-type: light,
			),
		)
	);
	@include colorful-overrides();
}

body {
	background: var(--mat-sys-surface);
	color: var(--mat-sys-on-surface);
	font: var(--mat-sys-body-medium);
	margin: 0;
	font-family: Roboto, 'Helvetica Neue', sans-serif;
}

html,
body {
	height: 100%;
}

.spacer {
	flex: 1 1 auto;
}

/* ================== GLOBAL OVERRIDES ================== */
@include mat.tabs-overrides(
	(
		active-indicator-height: 2px,
		container-height: 60px,
	)
);

@include mat.dialog-overrides(
	(
		container-shape: 30px,
		container-elevation-shadow: 0px 4px 10px rgba(0, 0, 0, 0.3),
		subhead-font: Roboto Condensed,
		subhead-size: 19px,
		subhead-line-height: 30px,
		container-max-width: 96vw,
		content-padding: 0,
	)
);

@include mat.toolbar-overrides(
	(
		title-text-size: 20px,
		standard-height: 60px,
		mobile-height: 60px,
	)
);

@include mat.table-overrides(
	(
		row-item-label-text-size: 14px,
		row-item-outline-color: var(--mat-sys-outline-variant),
		row-item-label-text-font: Roboto Condensed,
	)
);
.mat-mdc-dialog-title {
	text-align: center;
}

.btn-delete,
.btn-card-settings {
	@include mat.icon-button-overrides(
		(
			icon-color: var(--mat-sys-secondary),
		)
	);
}

.btn-cancel {
	@include mat.button-overrides(
		(
			text-label-text-color: var(--mat-sys-secondary),
		)
	);
}

.mat-mdc-dialog-content .stack-toggle .mat-mdc-slide-toggle .mdc-label {
	padding-inline-start: 12px;
}
